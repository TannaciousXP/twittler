<!DOCTYPE html>
<html>

<head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="jquery.timeago.js"></script>
</head>

<body>
    <h1>Shawndrost Twittle's</h1>
    <p>
    </p>
    <script>
    $(document).ready(function() {

        var $body = $('body p');


        //need a global counter to see where postTweet() left off last time it was run
        //index = global counter to keep track of which indexes have been called in streams.home
        var index = 0;

        function postTweets() {
            //this should be a function to postTweets()
            while (index <= streams.users.shawndrost.length - 1) { //index stay 10, and it loops 10 times then stops
                var tweet = streams.users.shawndrost[index]; //tweet object living in streams.home array
                var $tweet = $('<div></div>');
                $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at /*list tweet.created_at time*/ );
                $tweet.prependTo($body)
                index++;
            }
        };

        var postNextTweets = function() {
            postTweets();
            setTimeout(postNextTweets, Math.random() * 1500);
        };
        postNextTweets();
    });
    </script>
</body>

</html>
